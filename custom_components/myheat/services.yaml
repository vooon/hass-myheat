# Expose all calls MyHeat API has
---

# List all devices
get_devices:
  name: Get Devices
  target: &tgt
    entity:
      integration: myheat

# Get data for one device
get_device_info:
  name: Get Device Info
  target: *tgt
  fields:
    device_id: &devid
      name: Device ID
      selector:
        number:

# Set environment goal (temperature)
set_env_goal:
  target: *tgt
  fields:
    obj_id: &objid
      name: Object ID
      selector:
        number:
    goal:
      name: Goal [temperature]
      selector:
        number:
    device_id: *devid
    change_mode:
      name: Change Mode
      default: false
      selector:
        boolean:

# Set environment to use goal curve
set_env_curve:
  target: *tgt
  fields:
    obj_id: *objid
    curve:
      selector:
        number:
    device_id: *devid
    change_mode:
      default: false
      selector:
        boolean:

# Set engineering component goal (e.g. valve position)
set_eng_goal:
  target: *tgt
  fields:
    obj_id: *objid
    goal:
      selector:
        number:
    device_id: *devid
    change_mode:
      default: false
      selector:
        boolean:

# Set heating mode, by mode_id or schedule_id
set_heating_mode:
  target: *tgt
  fields:
    device_id: *devid
    mode_id:
      selector:
        number:
    schedule_id:
      selector:
        number:

# Arm/disarm security (mode)
set_security_mode:
  target: *tgt
  fields:
    mode:
      selector:
        boolean:
    device_id: *devid
